---
// Experience.astro
---

<section id="experiencia" class="scroll-mt-20 relative bg-paper dark:bg-ink border-b-[3px] border-ink dark:border-paper overflow-hidden py-20 px-6 md:px-16">

  <!-- Halftone bg -->
  <div class="CS_halftone absolute inset-0 pointer-events-none z-0"></div>

  <!-- Section label -->
  <div class="relative z-10 flex items-center gap-4 mb-14">
    <span class="font-bangers text-[13px] tracking-[3px] text-ink dark:text-paper opacity-40">05 /</span>
    <h2 class="font-bangers text-[clamp(36px,5vw,56px)] leading-none tracking-wide text-ink dark:text-paper">
      <span data-i18n="exp.seccion">EXPE</span><span class="CS_exp-title-highlight relative inline-block" data-i18n="exp.resaltado">RIENCIA</span>
    </h2>
    <div class="CS_zigzag flex-1 h-[3px] ml-2 opacity-20 dark:opacity-10"></div>
  </div>

  <!-- ‚îÄ‚îÄ TIMELINE WRAPPER ‚îÄ‚îÄ -->
  <div class="relative z-10 max-w-4xl mx-auto">

    <!-- L√≠nea vertical central -->
    <div class="CS_timeline-line absolute left-1/2 -translate-x-1/2 top-0 bottom-0 w-[3px] bg-ink dark:bg-paper"></div>

    <!-- ‚ïê‚ïê NODO 1 ‚Äî Empresa (PROFESIONAL) ‚Äî IZQUIERDA ‚ïê‚ïê -->
    <div class="CS_timeline-item relative grid grid-cols-2 gap-8 mb-16 items-start">

      <!-- Tarjeta izquierda -->
      <div class="CS_exp-card CS_exp-card--left
                  relative bg-paper dark:bg-[#1e1e38]
                  border-[3px] border-ink dark:border-paper
                  shadow-[5px_5px_0_#1a1a2e] dark:shadow-[5px_5px_0_#fffbf0]
                  p-5 flex flex-col gap-3">

        <!-- Tipo badge -->
        <div class="absolute -top-3 left-4">
          <span class="font-bangers text-[11px] tracking-[3px] text-white bg-comic-red
                       border-[2px] border-ink dark:border-paper px-2 py-0.5
                       shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0]" data-i18n="exp.tipo_pro">
            PROFESIONAL
          </span>
        </div>

        <!-- Header -->
        <div class="mt-2">
          <div class="font-bangers text-[11px] tracking-[2px] text-ink dark:text-paper opacity-40 mb-1" data-i18n="exp.empresa_fecha">
            2025 ‚Äî 2026
          </div>
          <h3 class="font-bangers text-[24px] leading-none tracking-wide text-ink dark:text-paper" data-i18n="exp.empresa_nombre">
            Nombre Empresa
          </h3>
          <div class="font-bangers text-[14px] tracking-[2px] text-comic-red mt-1" data-i18n="exp.empresa_rol">
            Desarrollador .NET 
          </div>
        </div>

        <!-- Divider -->
        <div class="w-full h-[2px] bg-ink dark:bg-paper opacity-10"></div>

        <!-- Descripci√≥n -->
        <p class="font-quattrocento text-[13px] leading-relaxed text-ink dark:text-paper opacity-80" data-i18n="exp.empresa_desc_resp">
          Descripci√≥n 1
        </p>

        <p class="font-quattrocento text-[13px] leading-relaxed text-ink dark:text-paper opacity-80" data-i18n="exp.empresa_desc_logros">
          Descripci√≥n 2
        </p>

        <!-- Tags de logros -->
        <div class="flex flex-wrap gap-1.5 mt-1">
          <span class="CS_exp-tag CS_exp-tag--red">‚ö° .NET</span>
          <span class="CS_exp-tag CS_exp-tag--red">‚ö° Blazor</span>
          <span class="CS_exp-tag CS_exp-tag--red">‚ö° SQL Server</span>
          <span class="CS_exp-tag CS_exp-tag--red">‚ö° REST APIs</span>
        </div>

        <!-- Conector flecha derecha hacia la l√≠nea -->
        <div class="CS_connector-right"></div>
      </div>

      <!-- Nodo central + fecha flotante -->
      <div class="CS_node-col flex flex-col items-start gap-2 pt-2 pl-6">
        <div class="CS_node bg-comic-red border-[3px] border-ink dark:border-paper
                    w-5 h-5 shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0]
                    -translate-x-[calc(50%+1.5px+2rem)]">
        </div>
        <!-- Etiqueta de a√±o al lado derecho del nodo -->
        <div class="font-bangers text-[28px] leading-none tracking-wide text-ink dark:text-paper opacity-20
                    -translate-x-[0px] select-none">
          2026
        </div>
      </div>

    </div>

    <!-- ‚ïê‚ïê NODO 2 ‚Äî Universidad ‚Äî DERECHA ‚ïê‚ïê -->
    <div class="CS_timeline-item relative grid grid-cols-2 gap-8 mb-16 items-start">

      <!-- Espacio izquierdo vac√≠o + nodo -->
      <div class="CS_node-col flex flex-col items-end gap-2 pt-2 pr-6">
        <div class="CS_node bg-comic-blue border-[3px] border-ink dark:border-paper
                    w-5 h-5 shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0]
                    translate-x-[calc(50%+1.5px+2rem)]">
        </div>
        <div class="font-bangers text-[28px] leading-none tracking-wide text-ink dark:text-paper opacity-20
                    translate-x-0 text-right select-none">
          2026
        </div>
      </div>

      <!-- Tarjeta derecha -->
      <div class="CS_exp-card CS_exp-card--right
                  relative bg-yellow dark:bg-[#2a2a4a]
                  border-[3px] border-ink dark:border-paper
                  shadow-[5px_5px_0_#1a1a2e] dark:shadow-[5px_5px_0_#fffbf0]
                  p-5 flex flex-col gap-3">

        <!-- Tipo badge -->
        <div class="absolute -top-3 left-4">
          <span class="font-bangers text-[11px] tracking-[3px] text-ink bg-yellow
                       border-[2px] border-ink dark:border-paper px-2 py-0.5
                       shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0]" data-i18n="exp.tipo_acad">
            ACAD√âMICO
          </span>
        </div>

        <!-- Header -->
        <div class="mt-2">
          <div class="font-bangers text-[11px] tracking-[2px] text-ink dark:text-paper opacity-40 mb-1" data-i18n="exp.uni_fecha">
            20XX ‚Äî 20XX
          </div>
          <h3 class="font-bangers text-[24px] leading-none tracking-wide text-ink dark:text-paper" data-i18n="exp.uni_nombre">
            Universidad
          </h3>
          <div class="font-bangers text-[14px] tracking-[2px] text-comic-blue dark:text-yellow mt-1" data-i18n="exp.uni_carrera">
            Ingenier√≠a / Carrera
          </div>
        </div>

        <div class="w-full h-[2px] bg-ink dark:bg-paper opacity-10"></div>

        <p class="font-quattrocento text-[13px] leading-relaxed text-ink dark:text-paper opacity-80" data-i18n="exp.uni_desc">
          Describe tu paso por la universidad, qu√© estudiaste, proyectos destacados, materias relevantes o cualquier logro acad√©mico que quieras mencionar.
        </p>

        <div class="flex flex-wrap gap-1.5 mt-1">
          <span class="CS_exp-tag CS_exp-tag--blue">üìö Ingenier√≠a</span>
          <span class="CS_exp-tag CS_exp-tag--blue">üìö Proyectos</span>
        </div>

        <div class="CS_connector-left"></div>
      </div>

    </div>

    <!-- ‚ïê‚ïê NODO 3 ‚Äî Concurso Nacional ‚Äî IZQUIERDA ‚ïê‚ïê -->
    <div class="CS_timeline-item relative grid grid-cols-2 gap-8 mb-4 items-start">

      <!-- Tarjeta izquierda -->
      <div class="CS_exp-card CS_exp-card--left
                  relative bg-ink dark:bg-[#0d0d1a]
                  border-[3px] border-ink dark:border-paper
                  shadow-[5px_5px_0_#1a1a2e] dark:shadow-[5px_5px_0_#fffbf0]
                  p-5 flex flex-col gap-3">

        <!-- Tipo badge -->
        <div class="absolute -top-3 left-4">
          <span class="font-bangers text-[11px] tracking-[3px] text-ink bg-yellow
                       border-[2px] border-ink px-2 py-0.5
                       shadow-[2px_2px_0_#1a1a2e]" data-i18n="exp.tipo_acad">
            ACAD√âMICO
          </span>
        </div>

        <!-- Starburst decorativo -->
        <div class="absolute -top-2 -right-3 z-10">
          <svg viewBox="0 0 60 60" class="w-12 h-12">
            <polygon points="30,2 36,22 56,22 40,34 46,54 30,42 14,54 20,34 4,22 24,22"
              fill="#ffd60a" stroke="#1a1a2e" stroke-width="2"/>
          </svg>
          <span class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[55%]
                       font-bangers text-[8px] text-ink tracking-wide -rotate-12 whitespace-nowrap">
            üèÜ
          </span>
        </div>

        <!-- Header -->
        <div class="mt-2">
          <div class="font-bangers text-[11px] tracking-[2px] text-paper opacity-40 mb-1" data-i18n="exp.concurso_fecha">
            20XX
          </div>
          <h3 class="font-bangers text-[24px] leading-none tracking-wide text-paper" data-i18n="exp.concurso_nombre">
            Concurso Nacional
          </h3>
          <div class="font-bangers text-[14px] tracking-[2px] text-yellow mt-1" data-i18n="exp.concurso_rol">
            Nombre del concurso ¬∑ Participante
          </div>
        </div>

        <div class="w-full h-[2px] bg-paper opacity-10"></div>

        <p class="font-quattrocento text-[13px] leading-relaxed text-paper opacity-80" data-i18n="exp.concurso_desc">
          Describe en qu√© consisti√≥ el concurso, qu√© construiste o desarrollaste para participar, y qu√© resultado obtuviste.
        </p>

        <div class="flex flex-wrap gap-1.5 mt-1">
          <span class="CS_exp-tag CS_exp-tag--yellow">üèÜ Concurso</span>
          <span class="CS_exp-tag CS_exp-tag--yellow">üèÜ Nacional</span>
        </div>

        <div class="CS_connector-right CS_connector-right--light"></div>
      </div>

      <!-- Nodo central -->
      <div class="CS_node-col flex flex-col items-start gap-2 pt-2 pl-6">
        <div class="CS_node bg-yellow border-[3px] border-ink dark:border-paper
                    w-5 h-5 shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0]
                    -translate-x-[calc(50%+1.5px+2rem)]">
        </div>
        <div class="font-bangers text-[28px] leading-none tracking-wide text-ink dark:text-paper opacity-20
                    select-none">
          2021
        </div>
      </div>

    </div>

    <!-- Cap final de la l√≠nea -->
    <div class="relative flex justify-center mt-2">
      <div class="w-4 h-4 bg-ink dark:bg-paper border-[3px] border-ink dark:border-paper
                  shadow-[2px_2px_0_#1a1a2e] dark:shadow-[2px_2px_0_#fffbf0] rotate-45">
      </div>
    </div>

  </div>

</section>

<script>
  // Anima las tarjetas al entrar en viewport
  const cards = document.querySelectorAll('.CS_exp-card');
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry, i) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('CS_visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.15 }
  );
  cards.forEach(c => observer.observe(c));
</script>